<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Rescisão Trabalhista</title>
    <style>
          /* Estilos CSS */
          body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }
        h1 {
            text-align: center;
            margin-top: 20px;
        }
        form {
            max-width: 400px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input[type="number"],
        input[type="date"],
        select {
            width: 100%;
            padding: 8px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        input[type="checkbox"] {
            margin-top: 5px;
        }
        button {
            width: 100%;
            padding: 10px;
            background-color: #249c6b;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #249c6b;
        }
        #result {
        width: 25%;
        height: 50%;
        margin: 0 auto; 
        margin-top: 20px;
        margin-bottom: 20px;
        padding: 10px;
        background-color: #d4edda; 
        border: 1px solid #c3e6cb; 
        border-radius: 4px;
        color: #155724; 
        font-size: 18px;
        text-align: center;
        }
    </style>
</head>
<body>
    <h1>Calculadora de Rescisão Trabalhista</h1>
    <form id="rescission-form">
        <label for="salary">Salário bruto:</label>
        <input type="number" id="salary" name="salary" required>
        
        <label for="admission-date">Data de admissão:</label>
        <input type="date" id="admission-date" name="admission-date" required>
        
        <label for="termination-date">Data de afastamento:</label>
        <input type="date" id="termination-date" name="termination-date" required>
        
        <label for="reason">Motivo:</label>
        <select id="reason" name="reason" required>
            <option value="without_just_cause">Dispensa sem justa causa</option>
            <option value="with_just_cause">Dispensa com justa causa</option>
            <option value="resignation">Pedido de demissão</option>
            <option value="mutual_agreement">Demissão de comum acordo</option>
            <option value="early_contract_termination">Encerramento de contrato de experiência antes do prazo</option>
            <option value="employee_retirement">Aposentadoria do empregado</option>
            <option value="employer_decease">Falecimento do empregador</option>
        </select>
        
        <label for="notice-period">Aviso prévio:</label>
        <select id="notice-period" name="notice-period" required>
            <option value="working">Trabalhando</option>
            <option value="employer_indemnified">Indenizado pelo empregador</option>
            <option value="not_fulfilled">Não cumprido pelo empregado</option>
            <option value="dismissed">Dispensado</option>
        </select>
        
        <label for="dependents">Número de dependentes:</label>
        <input type="number" id="dependents" name="dependents" value="0">
        
        <center>
        <label for="vacation">Possui Férias Vencidas?</label>
        <input type="checkbox" id="vacation" name="vacation">
        </center>
        
        <br><br>
        
        <button type="button" id="calculate-button">Calcular</button>
        <br><br>
        <button type="button" id="clear-button">Limpar</button>
    </form>
    
    <div id="result"></div>

    <script>
       document.getElementById("calculate-button").addEventListener("click", function() {
  // Obtem os valores dos campos
  let salary = parseFloat(document.getElementById("salary").value);
  let admissionDate = new Date(document.getElementById("admission-date").value);
  let terminationDate = new Date(document.getElementById("termination-date").value);
  let reason = document.getElementById("reason").value;
  let noticePeriod = document.getElementById("notice-period").value;
  let dependents = parseInt(document.getElementById("dependents").value);
  let vacation = document.getElementById("vacation").checked;

  // calcula os dias trabalhados
  let millisecondsPerDay = 1000 * 60 * 60 * 24;
  let daysWorked = Math.floor((terminationDate - admissionDate) / millisecondsPerDay);

  // Calculo de Férias (variável)
  let earnedVacationDays = vacation ? Math.min(daysWorked / 12, 30) : 0;

  // Calculo proporcional das férias pagas e 1/3 bonus
  let vacationPay = earnedVacationDays / 365 * salary * 1.33;

  // Calcula o 13° salário proporcional
  let thirteenthSalary = daysWorked / 365 * salary / 12;

  // Calcula o aviso prévio (variável)
  let noticePay = 0;
  if (noticePeriod === "employer_indemnified" && reason !== "with_just_cause") {
    noticePay = salary; // Notificação indenizada pelo empregador por rescisão sem justa causa
  } else if (noticePeriod === "employee_worked" && reason !== "with_just_cause") {
    noticePay = daysWorked / 30 * salary; // Prazo de aviso prévio cumprido para rescisão sem justa causa
  }

  //Calcular FGTS (incluindo multa se for o caso)
  let fgts = salary * 0.08;
  if (reason === "employer_indemnified") {
    fgts += salary * 0.4; // Adicionar multa de 40% por rescisão injusta
  }

  // Calcular total
  let total = salary + vacationPay + thirteenthSalary + noticePay + fgts;

  // Exibir resultado
  document.getElementById("result").innerHTML = "Valor da rescisão: R$ " + total.toFixed(2);
}); 

document.getElementById("clear-button").addEventListener("click", function() {
  // Limpar todos os campos de entrada
  document.getElementById("salary").value = "";
  document.getElementById("admission-date").value = "";
  document.getElementById("termination-date").value = "";
  document.getElementById("reason").selectedIndex = 0;
  document.getElementById("notice-period").selectedIndex = 0;
  document.getElementById("dependents").value = 0;
  document.getElementById("vacation").checked = false;
  document.getElementById("result").innerHTML = ""; // Limpa o resultado
});

    </script>
</body>
</html>
    