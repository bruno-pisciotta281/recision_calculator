<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Rescisão Trabalhista</title>
    <style>
          /* Estilos CSS */
          body {
            font-family: "Montserrat", sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }

        .nav {
        width: 100%;
        height: 10%;
        background-color: #249c6b;
        color: #fff;
        display: inline-block;
        border-radius: 5px;
        }

        .nav .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 90%;
        margin: 0 auto;
        }

        /*
        .nav .container img.img-left {
        float: left;
        }

        .nav .container h1.h1-center {
        margin: 0 auto;
        }   
        */


        .nav h1 {
          margin: 0 auto;
          text-align: center;
          font-size: 20px;
          padding: 2%;
        }

        form {
            max-width: 500px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input[type="number"],
        input[type="date"],
        select {
            width: 100%;
            padding: 8px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        input[type="checkbox"] {
            margin-top: 5px;
        }
        

        .buttons{
            margin: 0 auto;
            display: inline-block;
        }
        button {

            padding: 10px;
            background-color: #249c6b;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #2cb880;
        }

        #result {
        width: 75%;
        height: 50%;
        margin: 0 auto; 
        margin-top: 20px;
        margin-bottom: 20px;
        padding: 10px;
        background-color: #d4edda; 
        border: 1px solid #c3e6cb; 
        border-radius: 4px;
        color: #155724; 
        font-size: 18px;
        text-align: center;
        }

        button#clear-button:hover {
        background-color: rgb(254, 47, 47) !important;
        color: white;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
        }


        /*
        label span::tooltip {
        background-color: #f4db00;
        color: #ff0000;
        padding: 5px;
        border: 1px solid #000000;
        font-size: 14px;
        line-height: 1.5;
        text-align: left;
        }
        */  

          /* CSS para ocultar a tabela inicialmente */
    #result table {
        margin: 0 auto;
        display: none;
    }

    th, td {
        border: 1px solid #155724; ;
        padding: 5px;
        }

    </style>
</head>
<body>
    <br>
    <form id="rescission-form">
        <div class="nav">
            <div class="container">
               <!-- <img style="width: 20%;" class="img-left" src="https://gruponvt.com.br/wp-content/uploads/2023/02/Novo-TempoRH-v2-1x2-1.png" alt="Logo"> -->
              <h1>Calculadora de Rescisão Trabalhista</h1>
            </div>
          </div>
        <hr>
        <label for="salary" title="teste">Salário bruto: <span title="Seu salário sem nenhum desconto"><strong> ? </strong></span></label>
        <input type="number" id="salary" name="salary" required>
        
        <label for="admission-date">Data de admissão:</label>
        <input type="date" id="admission-date" name="admission-date" required>
        
        <label for="termination-date">Data de afastamento:</label>
        <input type="date" id="termination-date" name="termination-date" required>
        
        <label for="reason">Motivo:</label>
        <select id="reason" name="reason" required>
            <option value="without_just_cause">Dispensa sem justa causa</option>
            <option value="with_just_cause">Dispensa com justa causa</option>
            <option value="resignation">Pedido de demissão</option>
            <option value="mutual_agreement">Demissão de comum acordo</option>
            <option value="early_contract_termination">Encerramento de contrato de experiência antes do prazo</option>
            <option value="employee_retirement">Aposentadoria do empregado</option>
            <option value="employer_decease">Falecimento do empregador</option>
        </select>
        
        <label for="notice-period">Aviso prévio:</label>
        <select id="notice-period" name="notice-period" required>
            <option value="working">Trabalhando</option>
            <option value="employer_indemnified">Indenizado pelo empregador</option>
            <option value="not_fulfilled">Não cumprido pelo empregado</option>
            <option value="dismissed">Dispensado</option>
        </select>
        
        <label for="dependents">Número de dependentes:</label>
        <input type="number" id="dependents" name="dependents" value="0">
        
        <center>
        <label for="vacation">Possui Férias Vencidas?</label>
        <input type="checkbox" id="vacation" name="vacation">
        </center>
        
        <br>

        <center>
        <div class="buttons">
            <button type="button" id="calculate-button">Calcular</button>
            <button style="background-color: rgb(218, 7, 7);" type="button" id="clear-button">Limpar</button>
        </div>
        <div id="result">
            <div id="result-instruction">
                <h2 style="font-size: 20px;">Clique em <strong>calcular</strong> para exibir os resultados</h2>
            </div>
            <h2 id="result-title" style="display: none;">RESULTADO DO CÁLCULO</h2>
            <table>
                <tr>
                    <th>Verbas Rescisórias</th>
                    <td id="rescission-value">R$ 0,00</td>
                </tr>
                <tr>
                    <th>Descontos</th>
                    <td id="deductions-value">R$ 0,00</td>
                </tr>
                <tr>
                    <th>Total FGTS</th>
                    <td id="fgts-value">R$ 0,00</td>
                </tr>
                <tr>
                    <th>Total</th>
                    <td id="total-value">R$ 0,00</td>
                </tr>
            </table>
        </div> 
    </center>
    </form>

    <br>

    <script>
        document.getElementById("calculate-button").addEventListener("click", function() {
            // Obter os valores dos campos
            let salary = parseFloat(document.getElementById("salary").value);
            let admissionDate = new Date(document.getElementById("admission-date").value);
            let terminationDate = new Date(document.getElementById("termination-date").value);

             // Verificar se os campos obrigatórios foram preenchidos
            if (!salary || !admissionDate || !terminationDate) {
                alert("Por favor, preencha todos os campos obrigatórios: Salário Bruto, Data de Admissão e Data de Afastamento.");
                return; // Abortar o cálculo se algum campo estiver vazio
            }

            let reason = document.getElementById("reason").value;
            let noticePeriod = document.getElementById("notice-period").value;
            let dependents = parseInt(document.getElementById("dependents").value);
            let vacation = document.getElementById("vacation").checked;
    
            // Calcular os dias trabalhados
            let millisecondsPerDay = 1000 * 60 * 60 * 24;
            let daysWorked = Math.floor((terminationDate - admissionDate) / millisecondsPerDay);
    
            // Calcular as férias (se aplicável)
            let earnedVacationDays = vacation ? Math.min(daysWorked / 12, 30) : 0;
    
            // Calcular o valor das férias
            let vacationPay = earnedVacationDays / 365 * salary * 1.33;
    
            // Calcular o 13º salário proporcional
            let thirteenthSalary = daysWorked / 365 * salary / 12;
    
            // Calcular o aviso prévio (se aplicável)
            let noticePay = 0;
            if (noticePeriod === "employer_indemnified" && reason !== "with_just_cause") {
                noticePay = salary; // Indenização pelo empregador em caso de rescisão sem justa causa
            } else if (noticePeriod === "employee_worked" && reason !== "with_just_cause") {
                noticePay = daysWorked / 30 * salary; // Aviso prévio trabalhado em caso de rescisão sem justa causa
            }
    
            // Calcular o FGTS (incluindo multa, se aplicável)
            let fgts = salary * 0.08;
            if (reason === "employer_indemnified") {
                fgts += salary * 0.4; // Adicionar multa de 40% em caso de rescisão injusta
            }
    
            // Calcular o total
            let total = salary + vacationPay + thirteenthSalary + noticePay + fgts;
    
            // Exibir resultados na tabela
            document.getElementById("rescission-value").textContent = "R$ " + total.toFixed(2);
            document.getElementById("deductions-value").textContent = "R$ " + (salary + vacationPay + thirteenthSalary).toFixed(2);
            document.getElementById("fgts-value").textContent = "R$ " + fgts.toFixed(2);
            document.getElementById("total-value").textContent = "R$ " + total.toFixed(2);
    
            // Exibir a tabela de resultados e ocultar a mensagem de instrução
            let resultTable = document.getElementById("result").querySelector("table");
            resultTable.style.display = "table";
            document.getElementById("result-instruction").style.display = "none";
            document.getElementById("result-title").style.display = "block";

             // Centralizar a tabela horizontalmente
            document.getElementById("result").querySelector("table").style.margin = "0 auto";
        }); 
    
        document.getElementById("clear-button").addEventListener("click", function() {
            // Limpar todos os campos de entrada
            document.getElementById("salary").value = "";
            document.getElementById("admission-date").value = "";
            document.getElementById("termination-date").value = "";
            document.getElementById("reason").selectedIndex = 0;
            document.getElementById("notice-period").selectedIndex = 0;
            document.getElementById("dependents").value = 0;
            document.getElementById("vacation").checked = false;
    
            // Limpar o resultado e exibir a mensagem de instrução
            document.getElementById("rescission-value").textContent = "R$ 0.00";
            document.getElementById("deductions-value").textContent = "R$ 0.00";
            document.getElementById("fgts-value").textContent = "R$ 0.00";
            document.getElementById("total-value").textContent = "R$ 0.00";
    
            // Ocultar a tabela de resultados e exibir a mensagem de instrução
            let resultTable = document.getElementById("result").querySelector("table");
            resultTable.style.display = "none";
            document.getElementById("result-instruction").style.display = "block";
            document.getElementById("result-title").style.display = "none";
        });
    </script>
    
    
    
</body>
</html>
    
